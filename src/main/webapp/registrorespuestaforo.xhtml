<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:head> </h:head>

    <h:body>
        <h:form id="Respuestas">
            <p:panel id="panel" header="RESPUESTA FOROS" style="margin-bottom:10px;">
                <h:panelGrid columns="2" cellpadding="4">

                    <h:outputLabel value="Nombre de usuario:" style="font-weight:bold" />
                    <p:inputText id="nombre" value="#{registroForosBean.nombre}"> 
                        <p:ajax listener="#{registroForosBean.nuevoNombre}" />
                    </p:inputText>

                    <h:outputLabel value="Correo de usuario:" style="font-weight:bold" />
                    <p:inputText id="correo" value="#{registroForosBean.correo}">
                        <p:ajax listener="#{registroForosBean.nuevoCorreo}" />
                    </p:inputText>

                    <h:outputLabel value="Respuesta:" style="font-weight:bold" />
                    <p:inputTextarea id="respuesta" value="#{registroForosBean.contenido}">
                        <p:ajax listener="#{registroForosBean.nuevoContenido}" />
                    </p:inputTextarea>
                    
                    <h:outputLabel value="titulo del foro: #{registroForosBean.ef.titulo}"/>
                    <h:outputLabel value="autor del foro: #{registroForosBean.ef.autor.nombre}"/>
                    <h:outputLabel value="Comentario del foro: #{registroForosBean.ef.comentario}"/>   

                    <p:commandButton update="tabla" ajax="true" value="Responder" actionListener="#{registroForosBean.registraRespuesta()}" icon="ui-icon-comment"/>

                    <p:dataTable id="tabla" var="comentario" value="#{registroForosBean.respuestas}"  editable="true">
                        <p:column headerText="Autor Comentario">
                            #{comentario.autor.nombre}
                        </p:column>
                        <p:column headerText="Contenido">
                            #{comentario.contenido}
                        </p:column>
                        <p:column headerText="Fecha">
                            #{comentario.fechayHora}
                        </p:column>

                    </p:dataTable>
                    <p:commandButton value="Ver foros" action="registroentradaforo.xhtml"/>

                </h:panelGrid>
            </p:panel>   
        </h:form>
    </h:body>

</html>

